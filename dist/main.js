!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t,n,r){var o=r.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._src=t.link,this._alt="imagen de ".concat(t.name),this._text=t.name,this._cardSelector=n,this._handleCardClick=o},(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__photo").addEventListener("click",(function(){e._handleCardClick(e._src,e._text)})),this._element.querySelector(".element__button-heart").addEventListener("click",(function(t){e._handleLikeCard(t)})),this._element.querySelector(".element__button-trash").addEventListener("click",(function(t){e._handleDeleteCard(t)}))}},{key:"_handleLikeCard",value:function(e){e.target.classList.toggle("element__button-heart_active")}},{key:"_handleDeleteCard",value:function(e){this._element.remove()}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__photo").src=this._src,this._element.querySelector(".element__photo").alt=this._alt,this._element.querySelector(".element__text").textContent=this._text,this._element}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}(),o=document.querySelector(".elements"),i=document.getElementById("popUp-Profile"),u=document.querySelector(".profile__edit-button"),a=document.querySelector(".popup-image"),c=(document.querySelector(".pop-up__image-zoom"),document.querySelector(".pop-up__image-title"),document.querySelector(".pop-up__form")),l=document.querySelector(".profile__info-name"),s=document.querySelector(".profile__info-paragraph"),p=c.querySelector(".pop-up__form-item-name"),f=c.querySelector(".pop-up__form-item-about"),m=document.getElementById("popUp-Card"),y=(document.getElementById("popUp-Form"),document.querySelector(".profile__add-button")),b={formElement:".pop-up__form",inputElement:".pop-up__form-item",submitButton:".pop-up__save-button",errorNode:".pop-up__form-error_",errorClass:"pop-up__form-item_error"};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}var d=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formConfig=t,this._formElement=n,this._inputElements=Array.from(n.querySelectorAll(t.inputElement)),this._submitButton=n.querySelector(t.submitButton)},(t=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("".concat(this._formConfig.errorNode).concat(e.name));e.classList.add(this._formConfig.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("".concat(this._formConfig.errorNode).concat(e.name));e.classList.remove(this._formConfig.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputElements.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputElements)?this._submitButton.disabled=!0:this._submitButton.disabled=!1}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputElements.forEach((function(t){t.addEventListener("input",(function(n){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var E=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=n},(t=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.appendChild(e)}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var O=function(){return e=function e(t){var n,r,o,i=this,u=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=C(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popUp=u,this._handleEscClose=this._handleEscClose.bind(this),this._closeButton=this._popUp.querySelector(".pop-up__close-button")},(t=[{key:"open",value:function(){this._popUp.classList.add("pop-up_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popUp.classList.remove("pop-up_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popUp.addEventListener("click",(function(t){t.target.classList.contains("pop-up")&&e.close()}))}}])&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function I(e,t,n){return t=x(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function T(e,t,n,r){var o=U(x(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var V=function(e){function t(e){var n,r=e.popupSelector,o=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,t,[{popupSelector:r}]))._handleFormSubmit=o,n._formElement=n._popUp.querySelector(".pop-up__form"),n._inputList=n._formElement.querySelectorAll(".pop-up__form-item"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),n=t,(r=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;T(t,"setEventListeners",this,3)([]),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){T(t,"close",this,3)([]),this._formElement.reset()}}])&&L(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}function F(e,t,n){return t=Z(t),function(e,t){if(t&&("object"==z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,n||[],Z(e).constructor):t.apply(e,n))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(null,arguments)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var Y=function(e){function t(e){var n,r=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=F(this,t,[{popupSelector:r}]))._popUpImageZoom=n._popUp.querySelector(".pop-up__image-zoom"),n._popUpImageTitle=n._popUp.querySelector(".pop-up__image-title"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),n=t,r=[{key:"open",value:function(e){var n,r,o,i=e.link,u=e.name;this._popUpImageZoom.src=i,this._popUpImageZoom.alt=u,this._popUpImageTitle.textContent=u,(n=t,r=this,o=N(Z(1&3?n.prototype:n),"open",r),function(e){return o.apply(r,e)})([])}}],r&&D(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function J(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}var K=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=n,this._jobSelector=r},(t=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,job:this._jobSelector.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameSelector.textContent=t,this._jobSelector.textContent=n}}])&&H(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),Q=new E({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t=new r(e,"#card__template",{handleCardClick:function(e,t){return X.open({link:e,name:t})}}).createCard();Q.addItem(t)}},o);Q.renderItems();var X=new Y({popupSelector:a});X.setEventListeners();var $=new V({popupSelector:m,handleFormSubmit:function(e){var t=new r({name:e.title,link:e.link},"#card__template",{handleCardClick:function(e,t){return X.open({link:e,name:t})}}).createCard();o.prepend(t)}});y.addEventListener("click",(function(){ne(b),$.open()})),$.setEventListeners();var ee=new K({nameSelector:l,jobSelector:s}),te=new V({popupSelector:i,handleFormSubmit:function(e){l.textContent=e.name,s.textContent=e.about,te.close()}});u.addEventListener("click",(function(){ne(b),te.open();var e=ee.getUserInfo();p.value=e.name,f.value=e.job})),te.setEventListeners();var ne=function(e){document.querySelectorAll(e.formElement).forEach((function(t){new d(e,t).enableValidation()}))};ne(b)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVcsSUFBSXRCLEVBQVMsQ0FDNUJDLGFBQWN2RSxFQUNkd0UsWUFBYXZFLElBR1Q0RixHQUFjLElBQUl6QyxFQUFjLENBQ3BDVCxjQUFlaEQsRUFDZjJELGlCQUFrQixTQUFDd0MsR0FDakI5RixFQUFZUCxZQUFjcUcsRUFBWTdILEtBQ3RDZ0MsRUFBV1IsWUFBY3FHLEVBQVlDLE1BQ3JDRixHQUFZakQsT0FDZCxJQUVGL0MsRUFBV2hCLGlCQUFpQixTQUFTLFdBQ25DOEcsR0FBaUJyRixHQUNqQnVGLEdBQVlaLE9BQ1osSUFBTWUsRUFBV0osR0FBU0ssY0FDMUIvRixFQUFVNUIsTUFBUTBILEVBQVMvSCxLQUMzQmtDLEVBQVM3QixNQUFRMEgsRUFBU3JCLEdBQzVCLElBQ0FrQixHQUFZUixvQkFHWixJQUFNTSxHQUFtQixTQUFDckYsR0FDVi9CLFNBQVMwQyxpQkFBaUJYLEVBQVdQLGFBQzdDOEIsU0FBUSxTQUFDOUIsR0FDUyxJQUFJWSxFQUFjTCxFQUFZUCxHQUN0QzRGLGtCQUNoQixHQUNGLEVBR0FBLEdBQWlCckYsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDcmVhciBUYXJqZXRhcyBJbmljaWFsZXNcbmV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoY2FyZERhdGEsIGNhcmRTZWxlY3RvciwgeyBoYW5kbGVDYXJkQ2xpY2sgfSkge1xuICAgIHRoaXMuX3NyYyA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5fYWx0ID0gYGltYWdlbiBkZSAke2NhcmREYXRhLm5hbWV9YDtcbiAgICB0aGlzLl90ZXh0ID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19waG90b1wiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9zcmMsIHRoaXMuX3RleHQpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24taGVhcnRcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZChldnQpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tdHJhc2hcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKGV2dCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIEV2ZW50byBwYXJhIGVsIGJvdMOzbiBkZSAnbGlrZSdcbiAgX2hhbmRsZUxpa2VDYXJkKGV2dCkge1xuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2J1dHRvbi1oZWFydF9hY3RpdmVcIik7XG4gIH1cblxuICAvLyBFdmVudG8gcGFyYSBlbCBib3TDs24gZGUgZWxpbWluYXIgdGFyamV0YVxuICBfaGFuZGxlRGVsZXRlQ2FyZChldnQpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3Bob3RvXCIpLnNyYyA9IHRoaXMuX3NyYztcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fcGhvdG9cIikuYWx0ID0gdGhpcy5fYWx0O1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCIvL0NvbnRlbmVkb3IgZGUgVGFyamV0YXNcbmNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuXG4vL2NvbnN0IHBvcFVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBcIik7XG5cbi8vIEZvcm11bGFyaW8gJ0VkaXRhciBQZXJmaWwnXG5jb25zdCBwb3BVcFByb2ZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcFVwLVByb2ZpbGVcIik7XG5leHBvcnQgY29uc3Qgb3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5cbi8vUG9wIFVwIFpvb20gSW1hZ2VuXG5jb25zdCBwb3BVcEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1pbWFnZVwiKTtcbmNvbnN0IHBvcFVwSW1hZ2VDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2ltYWdlLXpvb21cIik7XG5jb25zdCBwb3BVcEltYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9faW1hZ2UtdGl0bGVcIik7XG5cbmNvbnN0IGZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2Zvcm1cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm8tbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvLXBhcmFncmFwaFwiKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9fZm9ybS1pdGVtLW5hbWVcIik7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9fZm9ybS1pdGVtLWFib3V0XCIpO1xuXG4vLyBFbGVtZW50b3MgZGVsIHBvcFVwIGNhcmQnXG5jb25zdCBwb3BVcENhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcFVwLUNhcmRcIik7XG5jb25zdCBmb3JtQWRkQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wVXAtRm9ybVwiKTtcbmNvbnN0IEJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmV4cG9ydCBjb25zdCBmb3JtQ29uZmlnID0ge1xuICBmb3JtRWxlbWVudDogXCIucG9wLXVwX19mb3JtXCIsXG4gIGlucHV0RWxlbWVudDogXCIucG9wLXVwX19mb3JtLWl0ZW1cIixcbiAgc3VibWl0QnV0dG9uOiBcIi5wb3AtdXBfX3NhdmUtYnV0dG9uXCIsXG4gIGVycm9yTm9kZTogXCIucG9wLXVwX19mb3JtLWVycm9yX1wiLFxuICBlcnJvckNsYXNzOiBcInBvcC11cF9fZm9ybS1pdGVtX2Vycm9yXCIsXG59O1xuXG5leHBvcnQge1xuICBwb3BVcEltYWdlQ29udGVudCxcbiAgcG9wVXBJbWFnZVRpdGxlLFxuICBwb3BVcEltYWdlLFxuICBjYXJkQ29udGFpbmVyLFxuICBmb3JtQWRkQ2FyZCxcbiAgcG9wVXBDYXJkLFxuICBCdXR0b25BZGRDYXJkLFxuICBwb3BVcFByb2ZpbGUsXG59O1xuIiwiY29uc3QgZm9ybUNvbmZpZyA9IHtcbiAgZm9ybUVsZW1lbnQ6IFwiLnBvcC11cF9fZm9ybVwiLFxuICBpbnB1dEVsZW1lbnQ6IFwiLnBvcC11cF9fZm9ybS1pdGVtXCIsXG4gIHN1Ym1pdEJ1dHRvbjogXCIucG9wLXVwX19zYXZlLWJ1dHRvblwiLFxuICBlcnJvck5vZGU6IFwiLnBvcC11cF9fZm9ybS1lcnJvcl9cIixcbiAgZXJyb3JDbGFzczogXCJwb3AtdXBfX2Zvcm0taXRlbV9lcnJvclwiLFxufTtcblxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihmb3JtQ29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1Db25maWcgPSBmb3JtQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGZvcm1Db25maWcuaW5wdXRFbGVtZW50KVxuICAgICk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtQ29uZmlnLnN1Ym1pdEJ1dHRvbik7XG4gIH1cblxuICAvLyBNw6l0b2RvIHByaXZhZG8gcGFyYSBtb3N0cmFyIGVsIGVycm9yXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25NZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JOb2RlID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAke3RoaXMuX2Zvcm1Db25maWcuZXJyb3JOb2RlfSR7aW5wdXRFbGVtZW50Lm5hbWV9YFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybUNvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvck5vZGUudGV4dENvbnRlbnQgPSB2YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuXG4gIC8vIE3DqXRvZG8gcHJpdmFkbyBwYXJhIGVzY29uZGVyIGVsIGVycm9yXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck5vZGUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCR7dGhpcy5fZm9ybUNvbmZpZy5lcnJvck5vZGV9JHtpbnB1dEVsZW1lbnQubmFtZX1gXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9mb3JtQ29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yTm9kZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLyBNw6l0b2RvIHByaXZhZG8gcGFyYSB2YWxpZGFyIGxhcyBlbnRyYWRhcyBkZWwgdXN1YXJpb1xuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gTcOpdG9kbyBwcml2YWRvIHBhcmEgdmVyaWZpY2FyIHNpIGhheSBlbnRyYWRhcyBpbnbDoWxpZGFzXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RWxlbWVudHMuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE3DqXRvZG8gcHJpdmFkbyBwYXJhIGhhYmlsaXRhci9kZXNoYWJpbGl0YXIgZWwgYm90w7NuIGRlIGVudsOtb1xuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVsZW1lbnRzKSkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gTcOpdG9kbyBwcml2YWRvIHBhcmEgYWdyZWdhciBldmVudCBsaXN0ZW5lcnMgYSBsYXMgZW50cmFkYXMgZGVsIGZvcm11bGFyaW9cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE3DqXRvZG8gcMO6YmxpY28gcGFyYSBhY3RpdmFyIGxhIHZhbGlkYWNpw7NuIGRlbCBmb3JtdWxhcmlvXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcFVwID0gcG9wdXBTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3BVcC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9fY2xvc2UtYnV0dG9uXCIpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3BVcC5jbGFzc0xpc3QuYWRkKFwicG9wLXVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3BVcC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wLXVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gTGlzdGVuZXIgcGFyYSBlbCBib3TDs24gZGUgY2llcnJlXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbmVyIHBhcmEgY2VycmFyIGVsIHBvcHVwIGhhY2llbmRvIGNsaWMgZnVlcmEgZGVsIGNvbnRlbmlkb1xuICAgIHRoaXMuX3BvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3AtdXBcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3BVcC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcC11cF9fZm9ybS1pdGVtXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTsgLy8gQ3JlYSB1biBvYmpldG8gdmFjw61vXG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG5cbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3BVcEltYWdlWm9vbSA9IHRoaXMuX3BvcFVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLXVwX19pbWFnZS16b29tXCIpO1xuICAgIHRoaXMuX3BvcFVwSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcFVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLXVwX19pbWFnZS10aXRsZVwiKTtcbiAgfVxuXG4gIC8vIEV2ZW50byBwYXJhIGFicmlyIGVsIHBvcC11cCBkZSB6b29tIGRlIGltYWdlblxuICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XG4gICAgdGhpcy5fcG9wVXBJbWFnZVpvb20uc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3BVcEltYWdlWm9vbS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcFVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lU2VsZWN0b3IgPSBuYW1lU2VsZWN0b3I7XG4gICAgdGhpcy5fam9iU2VsZWN0b3IgPSBqb2JTZWxlY3RvcjtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYlNlbGVjdG9yLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2JTZWxlY3Rvci50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQge1xuICBjYXJkQ29udGFpbmVyLFxuICBmb3JtQ29uZmlnLFxuICBwb3BVcEltYWdlLFxuICBwb3BVcENhcmQsXG4gIEJ1dHRvbkFkZENhcmQsXG4gIHBvcFVwUHJvZmlsZSxcbiAgb3BlbkJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVKb2IsXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG59IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vLyBPYmpldG8gcGFyYSBUYXJqZXRhcyBJbmljaWFsZXNcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG4vLyBDcmVhIHVuYSBpbnN0YW5jaWEgZGUgYFNlY3Rpb25gIHBhcmEgbWFuZWphciBsYXMgdGFyamV0YXMgaW5pY2lhbGVzXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZEl0ZW0sIFwiI2NhcmRfX3RlbXBsYXRlXCIsIHtcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoc3JjLCB0ZXh0KSA9PlxuICAgICAgICAgIHBvcHVwSW1hZ2Uub3Blbih7XG4gICAgICAgICAgICBsaW5rOiBzcmMsXG4gICAgICAgICAgICBuYW1lOiB0ZXh0LFxuICAgICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XG5cbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRDb250YWluZXJcbik7XG5cbi8vIFJlbmRlcml6YSBsYXMgdGFyamV0YXMgaW5pY2lhbGVzIGVuIGVsIERPTVxuY2FyZExpc3QucmVuZGVySXRlbXMoKTtcblxuLy9DcmVhIHVuYSBpbnN0YW5jaWEgZGVsIFBvcFVwIGNvbiBJbWFnZW4gWm9vbVxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XG4gIHBvcHVwU2VsZWN0b3I6IHBvcFVwSW1hZ2UsXG59KTtcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gQ3JlYSB1bmEgaW5zdGFuY2lhIGRlbCBQb3BVcFdpdGhGb3JtIHBhcmEgYWdyZWdhciBJbWFnZW5lc1xuY29uc3QgYWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogcG9wVXBDYXJkLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcbiAgICBjb25zdCBuZXdDYXJkSW5zdGFuY2UgPSBuZXcgQ2FyZChcbiAgICAgIHtcbiAgICAgICAgbmFtZTogZm9ybURhdGEudGl0bGUsXG4gICAgICAgIGxpbms6IGZvcm1EYXRhLmxpbmssXG4gICAgICB9LFxuICAgICAgXCIjY2FyZF9fdGVtcGxhdGVcIixcbiAgICAgIHtcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoc3JjLCB0ZXh0KSA9PlxuICAgICAgICAgIHBvcHVwSW1hZ2Uub3Blbih7XG4gICAgICAgICAgICBsaW5rOiBzcmMsXG4gICAgICAgICAgICBuYW1lOiB0ZXh0LFxuICAgICAgICAgIH0pLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCBuZXdjYXJkRWxlbWVudCA9IG5ld0NhcmRJbnN0YW5jZS5jcmVhdGVDYXJkKCk7XG5cbiAgICBjYXJkQ29udGFpbmVyLnByZXBlbmQobmV3Y2FyZEVsZW1lbnQpO1xuICB9LFxufSk7XG5CdXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVuYWJsZVZhbGlkYXRpb24oZm9ybUNvbmZpZyk7XG4gIGFkZENhcmQub3BlbigpO1xufSk7XG5hZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIENyZWEgdW5hIGluc3RhbmNpYSBkZWwgUG9wVXBXaXRoRm9ybSBwYXJhIGVsIEZvcm0gZGUgRWRpdGFyIGVsIFBlcmZpbFxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IHByb2ZpbGVOYW1lLFxuICBqb2JTZWxlY3RvcjogcHJvZmlsZUpvYixcbn0pO1xuXG5jb25zdCBlZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogcG9wVXBQcm9maWxlLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRWYWx1ZXMpID0+IHtcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGlucHV0VmFsdWVzLm5hbWU7XG4gICAgcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGlucHV0VmFsdWVzLmFib3V0O1xuICAgIGVkaXRQcm9maWxlLmNsb3NlKCk7XG4gIH0sXG59KTtcbm9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZW5hYmxlVmFsaWRhdGlvbihmb3JtQ29uZmlnKTtcbiAgZWRpdFByb2ZpbGUub3BlbigpO1xuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gdXNlckRhdGEuam9iO1xufSk7XG5lZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBBY3RpdmEgbGEgdmFsaWRhY2nDs24gZW4gdG9kb3MgbG9zIGZvcm11bGFyaW9zIC0gSW5zdGFjaWEgbGEgdmFsaWRhY2nDs24gZGUgY2FkYSBmb3JtXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGZvcm1Db25maWcpID0+IHtcbiAgY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGZvcm1Db25maWcuZm9ybUVsZW1lbnQpO1xuICBmb3Jtcy5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuLy8gSGFiaWxpdGEgbGEgdmFsaWRhY2nDs24gcGFyYSB0b2RvcyBsb3MgZm9ybXVsYXJpb3NcbmVuYWJsZVZhbGlkYXRpb24oZm9ybUNvbmZpZyk7XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiX3JlZiIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfc3JjIiwibGluayIsIl9hbHQiLCJjb25jYXQiLCJuYW1lIiwiX3RleHQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90aGlzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2hhbmRsZUxpa2VDYXJkIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImNhcmRDb250YWluZXIiLCJwb3BVcFByb2ZpbGUiLCJnZXRFbGVtZW50QnlJZCIsIm9wZW5CdXR0b24iLCJwb3BVcEltYWdlIiwiZm9ybUVsZW1lbnQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInBvcFVwQ2FyZCIsIkJ1dHRvbkFkZENhcmQiLCJmb3JtQ29uZmlnIiwiaW5wdXRFbGVtZW50Iiwic3VibWl0QnV0dG9uIiwiZXJyb3JOb2RlIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJfZm9ybUNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImV2ZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsIl9wb3BVcCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfY2xvc2VCdXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3RoaXMyIiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9jYWxsU3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJfaW5oZXJpdHMiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwiX3RoaXMzIiwiX3N1cGVyUHJvcEdldCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3BVcEltYWdlWm9vbSIsIl9wb3BVcEltYWdlVGl0bGUiLCJfcmVmMiIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfbmFtZVNlbGVjdG9yIiwiX2pvYlNlbGVjdG9yIiwiam9iIiwiY2FyZExpc3QiLCJjYXJkSXRlbSIsImNhcmRFbGVtZW50IiwidGV4dCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwiYWRkQ2FyZCIsImZvcm1EYXRhIiwibmV3Y2FyZEVsZW1lbnQiLCJ0aXRsZSIsInByZXBlbmQiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckluZm8iLCJlZGl0UHJvZmlsZSIsImlucHV0VmFsdWVzIiwiYWJvdXQiLCJ1c2VyRGF0YSIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==